# UML Диаграммы для Personal Finance Manager

## 1. Диаграмма вариантов использования (Use Case Diagram)

### Описание
Диаграмма показывает взаимодействие пользователя с системой Personal Finance Manager и основные функции, которые может выполнять пользователь.

### Акторы
- **Пользователь** - основной актор, использующий систему для управления личными финансами

### Варианты использования (Use Cases)

#### 1. Управление операциями
- **Добавить операцию** - создание новой финансовой операции (доход или расход)
- **Редактировать операцию** - изменение существующей операции
- **Удалить операцию** - удаление операции из системы
- **Просмотреть операции** - просмотр списка всех операций с возможностью фильтрации

#### 2. Управление категориями
- **Создать категорию** - создание новой категории для классификации операций
- **Редактировать категорию** - изменение названия существующей категории
- **Удалить категорию** - удаление неиспользуемой категории

#### 3. Отчеты и анализ
- **Просмотреть баланс** - отображение текущего финансового баланса
- **Сформировать отчет по периоду** - создание отчета за выбранный временной период
- **Анализ по категориям** - группировка и анализ операций по категориям

#### 4. Работа с данными
- **Экспорт в CSV** - экспорт данных операций в CSV файл
- **Резервное копирование** - создание резервной копии базы данных

#### 5. Фильтрация операций
- Вспомогательная функция для поиска и фильтрации операций по различным критериям

### Отношения
- **Include** - фильтрация операций включается в просмотр операций, формирование отчетов и анализ
- **Extend** - резервное копирование расширяет добавление операции (выполняется автоматически)

---

## 2. Диаграмма активностей - "Добавление операции" (Activity Diagram)

### Описание
Диаграмма детализирует процесс добавления новой финансовой операции пользователем, показывая последовательность действий, точки принятия решений и возможные ошибки.

### Основные этапы процесса

1. **Инициация** - пользователь нажимает кнопку "Добавить операцию"
2. **Ввод данных** - заполнение формы с информацией об операции
3. **Выбор категории** - выбор существующей или создание новой категории
4. **Валидация** - проверка корректности введенных данных
5. **Сохранение** - запись операции в базу данных
6. **Обновление интерфейса** - пересчет баланса и обновление списка операций

### Точки принятия решений

- **Категория существует?** - проверка наличия выбранной категории
- **Все поля заполнены?** - валидация обязательных полей
- **Сумма корректна?** - проверка положительности суммы
- **Дата корректна?** - валидация формата даты
- **Сохранение успешно?** - проверка успешности записи в БД

### Обработка ошибок
- Показ соответствующих сообщений об ошибках
- Возврат к редактированию для исправления данных
- Возможность отмены операции на любом этапе

---

## 3. Диаграмма классов (Class Diagram)

### Описание
Диаграмма показывает основные классы системы, их атрибуты, методы и взаимосвязи, отражая архитектурное решение с разделением на слои.

### Основные пакеты и классы

#### core.entities (Сущности предметной области)
- **Operation** - представляет финансовую операцию
- **Category** - представляет категорию операций  
- **Account** - представляет финансовый счет

#### data.repositories (Слой доступа к данным)
- **OperationRepository** - управление операциями в БД
- **CategoryRepository** - управление категориями в БД

#### services (Сервисный слой)
- **BalanceService** - расчет баланса и финансовых показателей
- **ReportService** - формирование отчетов и аналитики

#### application (Слой приложения)
- **FinanceApp** - главный класс приложения, координирующий работу всех компонентов

### Принципы проектирования
- **Разделение ответственности** - каждый класс имеет четко определенную роль
- **Слабая связанность** - минимальные зависимости между модулями
- **Инкапсуляция** - скрытие внутренней реализации классов
